<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:icecore="http://www.icefaces.org/icefaces/core"
                xmlns:ace="http://www.icefaces.org/icefaces/components">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <h:head>
            <title>Health Department</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <link rel="stylesheet" type="text/css" href="/Assessment/resources/css/cssLayout.css"/>
            <style type="text/css">

            </style>
            <script type="text/javascript">
                // Toggle Function
                $('.toggle').click(function () {
                    // Switches the Icon
                    $(this).children('i').toggleClass('fa-pencil');
                    // Switches the forms  
                    $('.form').animate({
                        height: "toggle",
                        'padding-top': 'toggle',
                        'padding-bottom': 'toggle',
                        opacity: "toggle"
                    }, "slow");
                });
            </script>
            <script>
                function md5auth(RandomString)
                {
                    var password = document.getElementById("newform:txtPassword").value;
                    var hash = MD5(RandomString + MD5(password));
                    document.getElementById("newform:txtPassword").value = hash;
                    return true;
                }
            </script>
            <script>
function searchKeyPress(e)
{
    // look for window.event in case event isn't passed in
    e = e || window.event;
    if (e.keyCode == 13)
    {
        alert("hiiiiiii");
        document.getElementById('submit').click();
        return false;
    }
    return true;
}
</script>
        </h:head>
        <h:body>

            <header class="himg">
                <img src="/Assessment/resources/images/assessment.png" style="margin-left:18%;height: 100px"/>
            </header>
            <div class="pen-title">
                <!-- don't remove-->
            </div>
            <!-- Form Module-->
            <div class="module form-module">
                <div class="toggle">
                    <!-- don't remove-->
                </div>
                <div class="form">
                    <h2 align="center" style="font-size: 18px;font-weight: bold;margin: 0px;padding: 0px;color: #66b3ff; margin-bottom: 15px">Login to your account</h2>

                    <h:form id="newform" onclick="return searchKeyPress(event); " >
                        <icecore:focusManager for="txtUsername">
                            <ace:growlMessages showDetail="true" position="top-right" maxVisibleMessages="300" header="Login !! " />

                            <ace:textEntry  id="txtUsername" value="#{loginBean.userName}" labelPosition="left" style="background:#FFF"  title="Username"  required="true" requiredMessage=" User Name is Required " placeholder="USER NAME" autoTab="true" />
                            <ace:message for="txtUsername" />                              
                            <ace:textEntry id="txtPassword"  value="#{loginBean.passwordd}" secret="true" style="background:#FFF" placeholder="PASSWORD" maxlength="20" autocomplete="off" required="true" requiredMessage=" Password is Required " />
                            <h:message for="txtPassword"/>
                            <h:commandButton id="submit"  action="#{loginBean.submitAction()}"  value=" LOGIN " class="btn">
                                <ace:animation event="click" name="highlight"/>
                            </h:commandButton>
                            <h:outputLabel value="#{loginBean.message}" style="color:red"/> 

<!--                                <ace:linkButton  value="Forgot Password ? " immediate="true"  action="#{loginBean.forgotPwd}" style="float:right"/>-->
                        </icecore:focusManager>

                        <!--                        <icecore:idleMonitor interval="10" >
                                                        <h5 id="idleMonitor" style="color: red;">
                                                You stopped using the application 10 seconds ago! </h5>
                                             <p><i><b> Please move the mouse (mouseover) or press any key
                                                (keypress) to dismiss this popup. </b></i>  </p>
                                                <ace:dialog  modal="true" closable="false" visible="true" width="200">
                                                    <h:outputLabel value="Your Session is Expired" style="color: red;size: 20px"/>
                                                    <h:outputLabel value="please move the mouse or enter any key" />
                                                    </ace:dialog>
                        
                                        </icecore:idleMonitor>-->
                    </h:form>
                </div>

                <div class="cta">
                    <h:form>
                        <h:commandLink  value="Forgot Password ? " immediate="true"  action="#{loginBean.forgotPwd}" />
                    </h:form>
                </div>


<!--    <div class="cta"><a href="#" onclick="#{loginBean.forgotPwd}">Forgot your password?</a></div>-->
            </div>
            <div>
                <h:form id="panelpopUpadfadsf" style="width:60%" >
                    <ace:dialog header="Reset Password"
                                width="400" id="confirmseedUpdateadsfasd" 
                                draggable="false" minHeight="" 
                                modal="true" 
                                closable="false"
                                visible="#{loginBean.successPopupRender}" >

                        <h:panelGrid id="panel" columns="2" width="100%">
                            <ace:textEntry id="txtResetPd" value="#{loginBean.userNamee}" label="User Name:" title="User Name Name" required="true" labelPosition="left" styleClass="astrtxt" requiredMessage="User Name Name is Required" placeholder="Enter User Name" requiredIndicator="#{msg.requiredIndicator}">                
                                <f:validator validatorId="alphaValidator"/>
                            </ace:textEntry>
                            <ace:message for="txtResetPd"/>
                        </h:panelGrid>
                        
                        <h:panelGrid id="p2" columns="3"  width="100%">
                            <ace:pushButton id="Save" class="btn1" value=" Submit " style="text-align:center" action="#{loginBean.setPwd}"  > 
                            </ace:pushButton>
                            <ace:pushButton id="close" class="btn1" value=" Close " style="text-align:center" action="#{loginBean.close}"  > 
                            </ace:pushButton>
                        </h:panelGrid>

                    </ace:dialog>
                </h:form>
            </div>

            <footer id="footer">
                &#169;All Rights Reserved 2016 &#160;&#160;|&#160;&#160;Designed by : Aegis Consulting Services
            </footer>


        </h:body>
    </html>
</ui:composition>